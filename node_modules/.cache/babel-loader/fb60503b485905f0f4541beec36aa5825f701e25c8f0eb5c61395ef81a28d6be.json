{"ast":null,"code":"import _slicedToArray from\"/Users/ijeong-un/ReactProject/ReelTrailer/mymovie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/ijeong-un/ReactProject/ReelTrailer/mymovie/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useState,useEffect,useCallback}from'react';import styled from'styled-components';import{upComings}from'../API/upComings';import dayjs from'dayjs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: auto;\\n  display: flex;\\n  flex-flow: row wrap;\\n  margin-left: 40px;\\n\"])));var Img=styled.img(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  width: 200px;\\n  height: 260px;\\n\"])));var Title=styled.p(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 240px;\\n  color: white;\\n  word-wrap: normal;\\n  text-align: center;\\n  padding-right: 50px;\\n  margin-top: 10px;\\n\"])));var Div=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 218px;\\n  height: 300px;\\n  margin: 8px 8px 20px 8px;\\n  display: flex;\\n  flex-direction: column;\\n  color: white;\\n  text-align: center;\\n\"])));var UpComings=function UpComings(){var _upcoming$results;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),upcoming=_useState2[0],setUpcoming=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),movieId=_useState4[0],setMovieId=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),image=_useState6[0],setImage=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],setTitle=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),overView=_useState10[0],setOverView=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),realese=_useState12[0],setRealese=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),gerne=_useState14[0],setGerne=_useState14[1];var _useState15=useState(0),_useState16=_slicedToArray(_useState15,2),voteRate=_useState16[0],setVoteRate=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),modal=_useState18[0],setModal=_useState18[1];var later=dayjs().add(14,'d').format('YYYY-MM-DD');var today=dayjs().format('YYYY-MM-DD');var ago=dayjs().subtract(14,'d').format('YYYY-MM-DD');var getUpComings=useCallback(function(){upComings().then(function(res){setUpcoming(res);});},[]);useEffect(function(){getUpComings();},[]);return/*#__PURE__*/_jsx(Wrapper,{children:upcoming===false?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):(_upcoming$results=upcoming.results)===null||_upcoming$results===void 0?void 0:_upcoming$results.map(function(e){if(e.release_date<=later){return/*#__PURE__*/_jsxs(Div,{onClick:function onClick(){setMovieId(e.id);setImage(e.poster_path);setTitle(e.title);setOverView(e.overview);setGerne(e.genre_ids);setRealese(e.release_date);setVoteRate(e.vote_average);setModal(true);},children:[/*#__PURE__*/_jsx(Img,{src:\"https://image.tmdb.org/t/p/w200/\".concat(e.poster_path)}),/*#__PURE__*/_jsxs(Title,{children:[\"\\uAC1C\\uBD09\\uC608\\uC815\\uC77C : \",e.release_date,/*#__PURE__*/_jsx(\"br\",{}),\"\\uC81C\\uBAA9 : \",e.title]})]},e.id);}})});};export default UpComings;","map":{"version":3,"names":["React","useState","useEffect","useCallback","styled","upComings","dayjs","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","Img","img","_templateObject2","Title","p","_templateObject3","Div","_templateObject4","UpComings","_upcoming$results","_useState","_useState2","_slicedToArray","upcoming","setUpcoming","_useState3","_useState4","movieId","setMovieId","_useState5","_useState6","image","setImage","_useState7","_useState8","title","setTitle","_useState9","_useState10","overView","setOverView","_useState11","_useState12","realese","setRealese","_useState13","_useState14","gerne","setGerne","_useState15","_useState16","voteRate","setVoteRate","_useState17","_useState18","modal","setModal","later","add","format","today","ago","subtract","getUpComings","then","res","children","results","map","e","release_date","onClick","id","poster_path","overview","genre_ids","vote_average","src","concat"],"sources":["/Users/ijeong-un/ReactProject/ReelTrailer/mymovie/src/pages/UpComings.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { upComings } from '../API/upComings';\nimport dayjs from 'dayjs';\n\nconst Wrapper = styled.div`\n  width: 100%;\n  height: auto;\n  display: flex;\n  flex-flow: row wrap;\n  margin-left: 40px;\n`;\n\nconst Img = styled.img`\n  width: 200px;\n  height: 260px;\n`;\n\nconst Title = styled.p`\n  width: 240px;\n  color: white;\n  word-wrap: normal;\n  text-align: center;\n  padding-right: 50px;\n  margin-top: 10px;\n`;\n\nconst Div = styled.div`\n  width: 218px;\n  height: 300px;\n  margin: 8px 8px 20px 8px;\n  display: flex;\n  flex-direction: column;\n  color: white;\n  text-align: center;\n`;\n\nconst UpComings = () => {\n  const [upcoming, setUpcoming] = useState({});\n  const [movieId, setMovieId] = useState({});\n  const [image, setImage] = useState('');\n  const [title, setTitle] = useState('');\n  const [overView, setOverView] = useState('');\n  const [realese, setRealese] = useState('');\n  const [gerne, setGerne] = useState([]);\n  const [voteRate, setVoteRate] = useState(0);\n  const [modal, setModal] = useState(false);\n\n  const later = dayjs().add(14, 'd').format('YYYY-MM-DD');\n  const today = dayjs().format('YYYY-MM-DD');\n  const ago = dayjs().subtract(14, 'd').format('YYYY-MM-DD');\n\n  const getUpComings = useCallback(() => {\n    upComings().then((res) => {\n      setUpcoming(res);\n    });\n  }, []);\n\n  useEffect(() => {\n    getUpComings();\n  }, []);\n  return (\n    <Wrapper>\n      {upcoming === false ? (\n        <h2>Loading...</h2>\n      ) : (\n        upcoming.results?.map((e) => {\n          if (e.release_date <= later) {\n            return (\n              <Div key={e.id}\n                onClick={() => {\n                  setMovieId(e.id);\n                  setImage(e.poster_path);\n                  setTitle(e.title);\n                  setOverView(e.overview);\n                  setGerne(e.genre_ids);\n                  setRealese(e.release_date);\n                  setVoteRate(e.vote_average);\n                  setModal(true);\n                }}\n              >\n                <Img src={`https://image.tmdb.org/t/p/w200/${e.poster_path}`}></Img>\n                <Title>\n                  개봉예정일 : {e.release_date}\n                  <br></br>제목 : {e.title}\n                </Title>\n              </Div>\n            );\n          }\n        })\n      )}\n    </Wrapper>\n  );\n};\n\nexport default UpComings;\n"],"mappings":"qWAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,GAAM,CAAAC,OAAO,CAAGP,MAAM,CAACQ,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,2GAMzB,CAED,GAAM,CAAAC,GAAG,CAAGX,MAAM,CAACY,GAAG,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,6CAGrB,CAED,GAAM,CAAAI,KAAK,CAAGd,MAAM,CAACe,CAAC,CAAAC,gBAAA,GAAAA,gBAAA,CAAAN,sBAAA,sIAOrB,CAED,GAAM,CAAAO,GAAG,CAAGjB,MAAM,CAACQ,GAAG,CAAAU,gBAAA,GAAAA,gBAAA,CAAAR,sBAAA,+JAQrB,CAED,GAAM,CAAAS,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,KAAAC,iBAAA,CACtB,IAAAC,SAAA,CAAgCxB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAyB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,IAAAI,UAAA,CAA8B7B,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAA8B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAnCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAA0BjC,QAAQ,CAAC,EAAE,CAAC,CAAAkC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAA0BrC,QAAQ,CAAC,EAAE,CAAC,CAAAsC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,UAAA,CAAgCzC,QAAQ,CAAC,EAAE,CAAC,CAAA0C,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAArCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAC5B,IAAAG,WAAA,CAA8B7C,QAAQ,CAAC,EAAE,CAAC,CAAA8C,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAnCE,OAAO,CAAAD,WAAA,IAAEE,UAAU,CAAAF,WAAA,IAC1B,IAAAG,WAAA,CAA0BjD,QAAQ,CAAC,EAAE,CAAC,CAAAkD,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAA/BE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IACtB,IAAAG,WAAA,CAAgCrD,QAAQ,CAAC,CAAC,CAAC,CAAAsD,WAAA,CAAA5B,cAAA,CAAA2B,WAAA,IAApCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAC5B,IAAAG,WAAA,CAA0BzD,QAAQ,CAAC,KAAK,CAAC,CAAA0D,WAAA,CAAAhC,cAAA,CAAA+B,WAAA,IAAlCE,KAAK,CAAAD,WAAA,IAAEE,QAAQ,CAAAF,WAAA,IAEtB,GAAM,CAAAG,KAAK,CAAGxD,KAAK,EAAE,CAACyD,GAAG,CAAC,EAAE,CAAE,GAAG,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC,CACvD,GAAM,CAAAC,KAAK,CAAG3D,KAAK,EAAE,CAAC0D,MAAM,CAAC,YAAY,CAAC,CAC1C,GAAM,CAAAE,GAAG,CAAG5D,KAAK,EAAE,CAAC6D,QAAQ,CAAC,EAAE,CAAE,GAAG,CAAC,CAACH,MAAM,CAAC,YAAY,CAAC,CAE1D,GAAM,CAAAI,YAAY,CAAGjE,WAAW,CAAC,UAAM,CACrCE,SAAS,EAAE,CAACgE,IAAI,CAAC,SAACC,GAAG,CAAK,CACxBzC,WAAW,CAACyC,GAAG,CAAC,CAClB,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAENpE,SAAS,CAAC,UAAM,CACdkE,YAAY,EAAE,CAChB,CAAC,CAAE,EAAE,CAAC,CACN,mBACE5D,IAAA,CAACG,OAAO,EAAA4D,QAAA,CACL3C,QAAQ,GAAK,KAAK,cACjBpB,IAAA,OAAA+D,QAAA,CAAI,YAAU,EAAK,EAAA/C,iBAAA,CAEnBI,QAAQ,CAAC4C,OAAO,UAAAhD,iBAAA,iBAAhBA,iBAAA,CAAkBiD,GAAG,CAAC,SAACC,CAAC,CAAK,CAC3B,GAAIA,CAAC,CAACC,YAAY,EAAIb,KAAK,CAAE,CAC3B,mBACEpD,KAAA,CAACW,GAAG,EACFuD,OAAO,CAAE,SAAAA,QAAA,CAAM,CACb3C,UAAU,CAACyC,CAAC,CAACG,EAAE,CAAC,CAChBxC,QAAQ,CAACqC,CAAC,CAACI,WAAW,CAAC,CACvBrC,QAAQ,CAACiC,CAAC,CAAClC,KAAK,CAAC,CACjBK,WAAW,CAAC6B,CAAC,CAACK,QAAQ,CAAC,CACvB1B,QAAQ,CAACqB,CAAC,CAACM,SAAS,CAAC,CACrB/B,UAAU,CAACyB,CAAC,CAACC,YAAY,CAAC,CAC1BlB,WAAW,CAACiB,CAAC,CAACO,YAAY,CAAC,CAC3BpB,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,CAAAU,QAAA,eAEF/D,IAAA,CAACO,GAAG,EAACmE,GAAG,oCAAAC,MAAA,CAAqCT,CAAC,CAACI,WAAW,CAAG,EAAO,cACpEpE,KAAA,CAACQ,KAAK,EAAAqD,QAAA,EAAC,mCACG,CAACG,CAAC,CAACC,YAAY,cACvBnE,IAAA,SAAS,kBAAK,CAACkE,CAAC,CAAClC,KAAK,GAChB,GAhBAkC,CAAC,CAACG,EAAE,CAiBR,CAEV,CACF,CAAC,CACF,EACO,CAEd,CAAC,CAED,cAAe,CAAAtD,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}